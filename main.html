<script>
async function generateCode() {
    const number = document.getElementById('numberInput').value; // Check your ID
    const statusBox = document.getElementById('status'); // Jahan OFFLINE likha hai
    
    statusBox.innerText = "GENERATING...";
    statusBox.style.color = "yellow";

    try {
        // Railway par relative path use karein
        const response = await fetch(`/code?number=${number}`);
        const data = await response.json();

        if (data.code) {
            statusBox.innerText = data.code; // Yahan pairing code dikhayega
            statusBox.style.color = "#00ff00";
        } else {
            statusBox.innerText = "ERROR";
        }
    } catch (e) {
        statusBox.innerText = "SERVER DOWN";
    }
}
</script>
